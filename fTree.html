<html>
<header>
	<style>
body {
	    font: 11px sans-serif;
	}
	.linage {
	    fill: none;
	    stroke: #000;
	}
	.marriage {
	    fill: none;
	    stroke: black;
	}
	.man {
	    //background-color: lightblue;
			border-style: solid;
			border-width: 0px;
			box-sizing: border-box;
      // wizz
      margin: 10px auto;
      padding:  10px 10px 15px;
}
	.woman {
			//background-color: pink;
			border-style: solid;
			border-width: 0px;
			box-sizing: border-box;
      // wizz
      margin: 10px auto;
      padding: 10px 10px 15px;
	}
	.emphasis{
    w-idth:70px;
    h-eight:64px;
    background: white ;
    padding: 4px;
    marg-in:6px;
    display: block;
    cursor: default;
    -webkit-box-shadow:0 4px 8px #666; 
    -moz-box-shadow:0 4px 8px #666;
    box-shadow:0 4px 8px #666;

	}
	p {
		padding:0;
		margin:0;
	}
	svg {
		border-style: solid;
		border-width: 1px;
	}
 img{
 width:auto;
 height:auto;
 max-width:72px;
 max-height:72px;
}
	</style>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3-dtree/dist/dTree.min.js"></script>
	<script>
treeData = [{
  "name": "温忠智",
  "class": "man",
  "textClass": "emphasis",
  "marriages": [{
    "spouse": {
      "name": "Iliana",
      "class": "woman",
      "extra": {
      	"nickname": "Illi"
      }
    },
    "children": [{
      "name": "James",
      "class": "man",
      "marriages": [{
        "spouse": {
          "name": "Alexandra",
          "class": "woman"
        },
        "children": [{
          "name": "Eric",
          "class": "man",
          "marriages": [{
            "spouse": {
              "name": "Eva",
              "class": "woman"
            }
          }]
        }, {
          "name": "Jane",
          "class": "woman"
        }, {
          "name": "Jasper",
          "class": "man"
        }, {
          "name": "Emma",
          "class": "woman"
        }, {
          "name": "Julia",
          "class": "woman"
        }, {
          "name": "Jessica",
          "class": "woman"
        }]
      }]
    }]
  }]
}];


dTree.init(treeData, {
  target: "#graph",
  debug: true,
  height: 800,
  width: 800,
  callbacks: {
    nodeClick: function(name, extra) {
      console.log(name);
    },
    textRenderer: function(name, extra, textClass) {
    	if (extra && extra.nickname)
      	name = name + " (" + extra.nickname + ")";
      textClass = 'emphasis';
    	return "<div align='center' class='" + textClass + "'><img src='https://zurb.com/playground/uploads/upload/upload/198/image-07.jpg'/><br/>" + name + "</div>";
    },
    nodeRenderer: function(name, x, y, height, width, extra, id, nodeClass, textClass, textRenderer) {
      let node = '';
      node += '<div ';
      node += 'style="height:100%;width:100%;" ';
      node += 'class="' + nodeClass + '" ';
      node += 'id="node' + id + '">\n';
      node += textRenderer(name, extra, textClass);
      node += '</div>';
      return node;
  },
  }
});
	</script>
</header>

<body>
  <h1>Demo <a href="https://zurb.com/playground/css3-polaroids">photo effect</h1>
  <div id="graph"></div>

  <script>


  </script>
</body>

</html>
